# 代码仓库

本分支主要存储稳定区块链共识算法的实验代码

## 1. 节点设计

稳定共识协议主要分为四个部分：首领选举、区块提出、区块验证和区块上链。根据节点的稳定度选举出出块的首领节点，因此节点可以分为首领节点和普通节点。此外，节点还需要进行通信，主要通信的消息由交易、区块和签名。节点设计中相应的通信处理和事件处理流程图如下：
![](Nodes.png)

### 1.1 首领节点

首领节点的主要功能有：
* 生成交易
* 生成区块：
* 对区块Hash签名：
* 生成最终签名：
* 添加区块奥本地链：
* 更新未处理交易池：
* 同步系统区块链信息：



### 1.2 普通节点

普通节点的功能主要有：
* 生成交易：
* 验证区块：
* 对区块Hash签名：
* 生成最终签名：
* 添加区块奥本地链：
* 更新未处理交易池：
* 同步系统区块链信息：

## 2. 消息处理

节点主要通信的消息是交易、区块和签名。
* 交易：由所有节点生成，并且进行广播
* 区块：由首领节点生成，并广播
* 签名：签名可以由所有节点生成，主要是两种签名：
  * 对区块Hash值的签名：
  * 最终签名：


# Profitable Double-Spending Attacks 1 (J.Jang&H.Lee, 2019)

主要从文章创新点、模型假设、理论分析、仿真结果以及最终结论几个部分来介绍本文。

## 文章创新点

本文调查了双花攻击的收益，具有任意算力的攻击者都有成功发起双花概念化攻击的机会。只要成功攻击，收益将高于遵守规则的收益。本文提出了一个新的计算有限时间攻击概率定理。可以用于估计获得收益所需的攻击资源。从而
推导出双花攻击所针对交易值的充要条件。
1. 任意算力比例的节点发起双花攻击都可获益；
2. 给定交易大小，可以通过计算攻击获利来评估双花攻击的风险。

## 模型假设
### 攻击模型

1. 系统中存在两种矿工：单一攻击者和诚实矿工；
2. 假设攻击者决定发起双花攻击，会生成一个目标交易为商品或服务支付金额；
3. 在给攻击者交付商品或提供服务之前，受害者会选择等待部分区块添加到链上；
4. 当确定攻击成功时，攻击者会选择公布伪区块链。
5. 假设理性的攻击者不会无限期的等待攻击成功，因为增加攻击链常会会造成大量算力的消耗；
6. 假设攻击者算力不会超过诚实矿工的算力。

### 随机模型

1. 假设块生成过程是一个泊松计数过程，生成速率为$\lambda$；
2. 每个时间单位全网只能有一个区块生成；
3. 块生成总数也是是一个泊松计数过程；
4. 在$t$时刻的区块由攻击者还是诚实矿工生成是一个随机游走过程；

## 理论分析

通过计算出同时满足在有限时间内双花攻击成功必要条件时的累积概率，可以计算得到在有限时间内攻击成功的收益的期望、成功攻击时间的期望等。

## 仿真结果

通过理论分析计算得出以下结论：

1. 当攻击者算力小于50%时，攻击者依然是有利可图的，因此对区块链是由威胁的；
2. 通过计算得到双花攻击成功所需要的资源（算力）；
3. 通过计算刷概念化攻击成功所需要的时间的概率分布函数，使得能够计算出攻击者挖矿的时间和费用；
4. 确认区块的数量将极大的影响攻击成功的概率，确认区块数量越少，有利攻击所需要的最小资源越少；

## 最终结论

1. 给定确认区块数量后，将任意交易值设置为小于攻击可获利所需要的值；
2. 给定交易值后，网络以最小确认区块数量使得通知收款人确认从而阻止攻击成功获利。

## 问题讨论

1. 本文主要是理论分析，并没有相关的仿真实验比对结果；
2. 影响双花攻击成功并且获利的主要因素是取人区块数量和交易价值。但是针对自适应双花攻击，等待区块数量（等待延迟），或者等待交易传输时延（快速支付）以及交易费用的高低应该也是影响双花攻击收益的因素。

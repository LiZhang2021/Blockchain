# 2021/11/22 日志 Log

## 进展

1. 这两天完成了[笔记内容](./Blockchain/../../Double_Spending_Attacks/Notes/6.md)的总结。针对基于DAG区块链的性能和安全性进行了分析。最终网络的负载大小会影响区块链的性能。分析性能时主要通过在不同网络负载下的累计权重和确认延时的变化情况来分析系统的性能。此外，也通过讨论双花攻击成功的概率作为安全分析的度量。详细分析了在不同网络负载下双花攻击成功概率来讨论系统的安全性 ，最终得出如下结论：

    **比较不同负载下累积权重的增长情况：**
     * 随着时间的推移，所有负载状态的累积权重都会增加。因为新交易不断出现，因此选择Tips来间接支持未确认的交易；
     * 虽然交易到达率同为 $\lambda_h$，但是L2HR比HR更快达到 $m$。因为HR的初始Tips数量远大于L2HR中的Tips数量，使得在HR中观察交易被选中的概率更低，因此使得增长速率比较低；
     * 虽然交易到达率同为 $\lambda_l$，但是LR比H2LR更快达到 $m$。因为H2LR也存在一个适应期，此时观察交易还未得到所有Tips的间接支持，因此H2LR中观察交易的累计权重的增长率低于 $\lambda_l$。而LR中累计权重的增长速率一直都是 $\lambda_l$，始终都是全部Tips都是观察交易的间接支持。

    **通过改变交易到达率 $\lambda$ 来比较不同负载下的确认延时：**
   * 确认延时随着交易到达率的的增加而减少；
   * 给定 $m$ 之后，H2LR中的确认延时高于LR，由于适应期的影响，HR的确认延时高于L2HR;
   * 当 $m$ 增加时，所有网络负载状态下的确认延时都会增加。由于适应期与整个共识过程相比只占很小一部分，因此非稳定状态与稳定状态下的的确认延时非常接近；
   * HR的确认延时不会随着 $\lambda$ 的增加而线性降低。因为较高的 $\lambda$ 会导致较大的 $W(t_0) = \frac{2\lambda h_r}{0.704}$。当 $m < W(t_0)$ 时，观察交易会在适应期内被确认，此时 $\lambda$ 并不会影响确认延时；
   * 随着 $W(t_0)$ 的增加，高负载网络中确认阈值越小的越快达到延时确认的下界。

    **比较不同网络负载下成功攻击的概率：**

   * 当 $\lambda > \mu$，成功攻击的概率随着 $\mu$ 的增加而增加，当 $\lambda \leq \mu$ 时，攻击成功概率为 $1$；
   * 给定确认阈值 $m$，当 $\lambda > \mu$ 时HR成功攻击的概率高于L2HR。因为HR有适应期，攻击者通过创建欺诈链来窃取还未支持诚实支付的交易的算力，从而提升攻击成功概率；
   * 当 $m < W(t_0)$ 时，诚实支付将在适应期内被确认，因此就有 $T_2 = T_d$，攻击者只需超过诚实节点一个交易即可。
   * 当诚实支付在线性增长期内被确认时，较高的 $m$ 会导致较低的成功攻击概率，因为 $m$ 越大，城市节点从 $T_2$ 到 $T_d$ 内的发出交易越多（$\alpha$ 越大），攻击者就越难超过诚实链（因为 $\lambda > \mu$）。
   * 对于LR和H2LR，攻击者可以以更小的事务到达率 $\mu$ 攻击成功。因为 H2LR和LR中诚实节点的交易到达率非常低，因此诚实支付的累计权重增长非常缓慢（低负载不利于系统安全）；
   * 当 $m$ 越高时，攻击者在LR和H2LR中的成功概率越接近。即 $m$ 越大，适应期与共识过程的比率月底，可以降低适应期对安全性的不利影响。
1. 完成今日的毛笔字练习；
2. 完成本篇日志的写作。
   
## 启示

* 对于低负载情况下，当 $L(0) = 1$ 时，新交易没办法选择两个Tips的情况，只选一个Tip作为支撑合理吗？是否违反了系统的规则？
  * 对于这种情况下，基于DAG的分布式账本就会变成是一条单独的链，类似于链式区块链结构。但是这是非常极端的情况，并且这种情况下，系统的安全性非常的弱，极易受到攻击。因此在这种场景下新交易没有别的选择方式，只能选择唯一的交易支持，剩下一个则为空。
* 影响系统性能和安全的主要因素有哪些？
  * **系统性能：** 交易到达速率 $\lambda$，网络负载情况以及交易确认阈值等都能能直接影响基于DAG的区块链的性能。区块链的性能主要通过交易的累计权重和确认延时来衡量。当交易到达速率增加时，交易的累计权重增长会提升（除非是确认阈值在适应期内就达到）。当交易确认阈值降低时，确认延时会降低。因为需要达到确认的累计权重数量会降低。
  * **安全性：** 讨论安全性主要从双花攻击成功的概率方面进行深入探讨。因此主要分析影响双花攻击成功概率的因素。攻击者的交易到达速率和确认阈值等会影响攻击成功的概率。当攻击者交易到达率增加时，攻击成功概率会增加；确认阈值增大时，攻击成功的概率会降低，此时区块链系统更加安全。
* 对于双花攻击中的三个时间点 $T_1, T_2, T_d$ 时如何确定？
  * 对于时间 $T_1$ 是诚实交易成为Tips的时刻，即诚实交易第一次出现在账本中。这个时间比较固定，一旦发起诚实交易之后，将很快通过网络传输到其他节点；
  * 对于时间 $T_2$ 是攻击者发起交易的时间，即生成欺诈分支的时间。这个时间可以出现在 $T_1$ 之前，也可以出现在 $T_1$ 之后。要注意离线生成欺诈链的第一个交易选择的Tips不能支持诚实交易，否则攻击没有意义。
  * 对于时间 $T_d$ 是诚实交易被确认的时刻。此时攻击者会比较欺诈分支和诚实分支的权重，如果欺诈分支领先，就立即公布，否则将在之后超过诚实分支后再公布。但最好是再所有Tips都成为诚实分支的间接支持交易之前公布，否则将会导致攻击失败。
  这三个时间是分析双花攻击非常重要的时间，因此在分析攻击成功的概率时需要重点关注！

## 计划

1. 8：30 ~ 17：00：开始写分析考虑无线网络通信协议时，基于DAG区块链的性能和安全分析相关的文档；
2. 19 ：00 ~ 20：00 练习一篇毛笔字；
3. 21 ：00 ~ 22：30 完成本日日志的写作。
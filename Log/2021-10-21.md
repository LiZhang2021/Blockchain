# 2021/10/21 日志 Log

## 进展

1. 完成了 **基于DAG结构区块链双花攻击成功概率** 的计算（详见[Summary/Sec. 基于DAG结构区块链的双花攻击分析](./Blockchain/../../Double_Spending_Attacks/Summary.md)）。通过分析基于DAG结构区块链系统的交易确认规则，根据最重链原则（权重最大原则）确定这类区块链系统的双花攻击的过程。基于有向无环图的区块链系统并没有挖矿生成区块的过程，因此在一个时隙内由攻击者和诚实用户生成交易的概率取决于他们在系统中的交易到达速率。此后，攻击者会发起两笔交易：目标交易和欺诈交易。当将目标交易发出后，立即离线生成一笔具有相同输入的欺诈交易，并随后生成大量交易支持这笔欺诈交易。当目标交易在诚实链上被确认后，一旦欺诈交易权重的大于目标交易的权重，立刻公开欺诈链赢得系统的最终承认，使得在受害者为攻击者提供服务之后并不能获得支付。对于两个交易而言，他们的链增长时一个马尔可夫过程。攻击者在攻击时间段内生成交易的数量服从负正向分布。而攻击要成功需要目标交易与欺诈交易的权重之差为负，而权重之差变化的过程是一个随机游走的过程。因此，最终可以计算得到双花攻击成功的概率。通过讨论分析双花攻击成功概率的影响因素，可以启发我们在设计此类区块链系统时，合理的设置相关参数，降低攻击成功的概率，提高系统的安全性。由于这类区块链系统并没有设置奖励系统，因此为了确保交易尽可能不被攻击，交易的价值不宜设置过大，从而降低由于价值过大而引诱攻击者发起攻击。
2. 完成今日的毛笔字练习；
3. 完成本篇日志的写作。

## 启示

1. 经过这段时间对于不同区块链系统和不同双花攻击模型的分析研究，我发现在讨论双花攻击模型时，有几个特殊的点需要重点注意：
   * 无论是链式区块链系统还是图结构的区块链系统，在定义双花攻击模型时，发起攻击的时间、目标交易确定的时间以及最终成功攻击的时间这几个时间点区块链系统中诚实链与欺诈链分支的状态分析非常重要，这几个时间点会极大的影响双花攻击成功概率；
   * 对于链式结构，由于拥有实际挖矿或者虚拟挖矿的过程，因此必然设置有相应的奖励机制。因此双花攻击成功后可以根据攻击者将其期望的大小来讨论分析区块链系统的安全性。甚至可以根据奖励期望的公式，逆推出双花攻击有收益时所需资源的下界，从而使得将资源限制在界下使得双花攻击即使成功也不会有任何的收益，甚至会造成损失。此时理性的攻击者会放弃攻击系统，进而确保了系统的安全性；
   * 对于图结构的区块链系统，由于没有挖矿的过程，因此系统中不会设置奖励机制，双花攻击成功后攻击者只会得到目标交易的价值奖励。因此对于此类系统可以限制交易的价值来降低交易价值来提高区块链系统的安全性；
   * 此外，无论是哪种区块链系统。目标交易确认区块（权重）以及在一个时隙内攻击者生成区块（交易）的概率都是影响双花攻击的主要因素。在分析双花攻击成功的概率时，主要以这两个作为变量观察分析概率的变化情况来探讨系统的安全性。
2. 可以设计一个无线网络区块链系统，根据无线网络的通信特性来设计区块链的共识机制。
   * 假设区块链系统采用链式结构，由 $n$ 个节点组成且节点采用CSMA/CA通信协议广播通信；
   * 节点之间通过抢占信道成为首领。最先占用信道的节点成为首领，收集交易打包区块广播到全网。每个节点初始的信号发送概率相同，在一个首领选中并完成其任期之后，首领节点的信号发送概率会下降，未被选中的节点的信号发送概率会增加，开始新一轮的首领任期；
   * 节点的信号发射概率设置一个上界和下界，从而避免概率为零时节点宕机挥着概率过高时节点频繁生成区块；
   * 当节点争用信道发生冲突时，两个节点都回退一个时间窗口，概率不变；
3. 针对要设计的区块链系统需要考虑的问题：
   * 多少个区块可以设置为确认区块数量，为什么这个确认区块数量的值是安全的？通过什么样的证明可以证明这个数字的设置是安全的？
   * 这类区块链会不会出现分叉？造成分叉的主要原因是什么？（通常是因为每个节点都维护局部区块链，由于网络延时、丢包等原因造成有些节点没有接收到区块）；
   * 区块链系统的安全性是否会女巫攻击、阻塞攻击以及双花攻击的威胁，针对这些攻击有什么防护措施？

## 计划

1. 8：30 ~ 12：00 准备开始写无限区块链系统的总结；
2. 14：00 ~ 17：00 开组会；
3. 19 ：00 ~ 20：00 练习一篇毛笔字；
4. 21 ：00 ~ 22：30 完成本日日志的写作。
# A Stable Consensus protoccol in Wireless Blockchain System

## Introduction

移动边缘计算可以收获分布在网络边缘的大量空闲计算和存储资源，为移动用户提供满意的服务。其中，移动自组织云旨在利用移动设备（例如智能手机、车辆、无人系统）未充分利用的本地计算资源来形成自组织的本地资源池（即移动自组织云）。这样的 ad-hoc 云可以在没有任何基础设施的帮助下单独工作，但仍然可以提供良好的云服务。例如，在没有任何网络基础设施的农村地区，用户可以通过这种云架构享受计算服务。因此，可以通过使用移动自组织云来形成本地资源池，同时将收集、聚合和利用不同移动设备处的资源来提供计算服务。此外，在一个区域内移动的自组织车辆，也称为车载自组织网络（VANET），它可以在没有固定基础设施的帮助下临时组织起来执行集体任务处理。

尽管移动自组织云可以利用移动环境中分散的计算资源，但是服务能力很大成都上取决于底层移动自组织网络(MANET) 提供的通信服务的质量，通常具有基础设施少且、无中心控制、网络动态高、节点资源有限。这些特性为用户之间的资源共享，尤其是陌生人之间的资源共享带来了隐私和安全方面的巨大挑战。如何最大限度地吸引用户参与移动自组网环境中的机会性资源共享，同时保持用户的隐私和安全是移动自组织云技术发展亟需解决的问题。

区块链技术可以在分布式环境下提供可信赖和安全的资源共享服务，受到了学术界和工业界的高度关注。区块链及其关键特性，如去中心化、持久性、匿名性和可审计性，为克服移动自组织云中存在的问题提供了新的方向，特别是当它与智能合约（即自动执行部署在区块链上的不可更改的数字合约）。 然而，现有的区块链系统仅被证明在资源充足、通信质量良好的互联网基础设施上有效，一些核心设计（例如，共识协议）在用于资源有限、网络通信不稳定以及具有高动态性的移动自组织网络环境时可能会遇到严重的问题。
当前的区块链协议基本都是使用基于资源证明或委员会（消息传递）的共识算法。基于资源证明的共识要求用户通过展示他们对诸如能源和存储等物理资源（例如工作证明）或诸如声誉和权重（例如，权益证明）。另一方面，基于委员会的一致性协议（如，实际拜占庭容错协议）要求委员会成员通过消息交换达成共识。这些共识算法都是为以互联网作为底层网络基础设施的系统开发的，但它们并不适用于将无线网络作为底层网络基础的系统。更具体地说，无线网络的网络拓扑动态变化、容易受到干扰攻击且信道通信极易受到环境的影响，导致通信不稳定。这些障碍使得通信很可能失败，使得传统的共识算法无法适用。现有的区块链协议没有充分解决这些问题，这激发了我们对无线区块链协议的研究。

在本文中，我们重点研究在没有固定基础设施场景，即移动节点需要自己构建区块链系统来提供安全可信的资源共享服务。为此，我们需要解决以下问题：
* 为什么现有的区块链解决方案不能直接用于高动态的移动自组织环境；
* 如何改进区块链使得能够用于在移动自组织云中。

在本文中，我们首先介绍现有的区块链共识算法，并讨论它们在移动自组织环境中的优点和问题。然后我们介绍了现有无线区块链系统，并详细讨论了它们在移动自组织环境中使用的共识协议的问题。为了解决移动自组织网络环境的高动态特性和资源有限性，我们提出了一种基于移动节点稳定性的共识协议。仿真结果表明，与现有工作相比，我们的解决方案不仅节能，还可以实现更高的性能。

本文剩余部分组成如下。下一节介绍移动无线自组织网络中最新区块链协议和共识算法最相关的工作。第三节提出我们的模型和假设。第四节详细介绍基于节点稳定性的共识协议。第五节会理论性地分析协议的正确性、活性以及高效性。第六节会给出共识协议相关的仿真结果。最后，在第七节给出相应的结论。

## Related Work

### 区块链共识协议

我们当前区块链共识协议可以分为几种：基于工作量证明的共识协议、基于权益证明的共识协议、基于委员会的混合共识协议以及其他的共识算法。

基于工作量证明的区块链共识算法中，参与共识的节点通过展示他们的计算算力的消耗来竞争出块权限。工作量证明最早由C.Dwork和M.Naor[18]在1992年提出，用来解决垃圾邮件问题.该机制要求邮件在被发送之前必须找到某个数学难题的答案来证明发送者确实执行了一定量的工作。A.Back在1997年提出，并在2002年正式发表的Hashcash [19]通过寻找哈希函数原像实现工作量证明。在1999年，M.Jakobsso[20]正式提出了工作量证明的概念。这些工作都为比特币的共识机制奠定了坚实的基础。以太坊可以提供一个图灵完备的以太坊虚拟机并且采用改进的工作量证明共识算法——Ethash。此外，采用基于工作量证明共识算法的区块链协议的有Bitcoin-NG、Fruitchain等。

基于权益证明的的共识算法中参与节点根据拥有资产的比例来决定成为下一个出块者的概率。因此，这类共识算法依赖参与节点的初始代币。由S.King和S.Nadal[28]提出的点点币首次引入了权益证明共识算法，根据参与节点持有代币的币龄来选择生成新区块的节点。V.Buterin等人[33]提出的Casper FFG是用于以太坊的基于PoS共识算法。区块产生仍然依靠以太坊的Ethash工作量证明算法，每隔50个区块出现一个检查点，验证者通过权益证明共识算法对检查点完成最终确定，确保系统的安全性。A.Kiayias等人[35]提出了一种新的基于权益证明的共识算法Ouroboros，根据参与节点持有的股权来随机选举出块节点。P.Daian等人[38]提出的Snow White是基于权益证明的可重配置共识算法。该协议提出了一种保证安全的腐败延迟机制，确保节点离线、候选者节点选择机制被敌手偏置和腐蚀时系统的安全性。

基于委员会的混合共识协议是将经典分布式一致性算法与当前的区块链共识算法相结合，即采用PoW或PoS的方式选举特定的委员会，在委员会内部运行经典分布式共识算法生成区块。根据委员会的数量可以分为单一委员会混合共识协议和多委员会混合共识协议。典型的采用单一委员会混合共识协议的区块链有PeerCensus、Byzcoin、Solida、Algrand等；采用多委员会混合共识机制的区块链协议有ELATICO、Omniledger、Chainspace、RapidChain等。

除了以上三种区块链共识算法的分类以外，许多研究者提出一些其他区块链共识算法。针对工作量证明共识算法耗能大的问题，一些替代的共识算法被提出，比如Proof of space、proof of storage(proof of capacity）、Proof of elapsed time。考虑到权益证明共识算法需要持有股份的特点，提出基于节点信用的Proof of reputation。为了降低区块链节点间同步沟通的成本，Ripple采用的RPCA算法利用验证节点的可信任节点名单对交易投票
和对区块进行投票最终达成一致。

### 无线网络中的区块链协议

目前，也有一些区块链研究是根据无线网络广播特性提出可以在具有一定时间复杂度的区块链系统中达成共识。例如，BLOWN [17] 和 wChain [18] 分别被提议为单跳和多跳无线区块链协议。此外，[Consensus in wireless blockchain system] 中提出了一种基于 SINR 模型的共识协议，在单跳无线网络中可以在 O(log n) 时间步内获得共识。然而，以前的工作只考虑达成一次共识。但是，区块链系统中的共识需要通过参与节点重复获得。只讨论共识协议的单次共识的效率对于无线网络的区块链共识算法的研究可能会稍显不足。

### 移动无线自组织网络的区块链协议

当前关于无线区块链系统的研究主要集中在提出新的架构或在当前已有的的区块链协议之上构建系统。【找出相关的论文】


## Models And Assumptions

问题定义

给出相应的网络模型

给出相应的攻击模型


## The Stable Consensus Protocol
介绍共识协议的框架：
首领选举阶段、
区块提出阶段、
区块验证阶段、
链更新阶段、
区块链系统中共识算法的性质







## Protocol Analysis

分析共识协议的正确性、高效性和安全性


## Simulation Result
测试不同区块大小时，固定网络大小时，区块确认时延
测试吞吐量

## Conclusion

得出结论
